<?php
/**
 * Implementation of hook_permission().
 */

function om_show_permission() {
  return array(
    'administer show' => array(
      'title' => t('Administer OM Show'), 
      'description' => t('Administer OMP functionality for the show interface.'),
    )
  );
}

/**
 * Implements hook_views_query_alter
 */
function om_show_views_query_alter(&$view, &$query) {
  if ($view->name == 'user_projects' && user_access('administer show')) {
    if (isset($query->where[0])) {
      unset($query->where[0]);
    }
  }
}